{"version":3,"sources":["services/API_KEY.js","services/API.js","components/Navigation/Navigation.jsx","components/AppBar/AppBar.jsx","components/HomePage/HomePage.jsx","components/MoviesPage/MoviesPage.jsx","views/MoviesView.jsx","views/MovieDetailsPage.jsx","views/NotFoundView.jsx","App.js","index.js"],"names":["API_KEY","BASE_URL","getTrending","url","axios","get","getSearchMovies","query","getMovieDetails","id","getMovieCredits","getMovieReviews","Navigation","exact","to","className","activeClassName","Appbar","HomePage","location","useLocation","useState","movies","setMovies","useEffect","then","response","fetchedMovies","data","results","map","movie","movieId","movieName","title","name","prevState","pathname","state","from","MoviesPage","onSearch","search","setSearch","reset","onSubmit","event","preventDefault","type","value","onChange","currentTarget","MoviesPageView","Cast","lazy","Reviews","MovieDetailsPage","history","useHistory","useParams","useRouteMatch","path","myMovie","img","poster_path","score","vote_average","overview","genres","onClick","push","src","alt","genre","join","fallback","NotFoundView","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a5b3c50a.chunk.js","sourcesContent":["const API_KEY = '1ca3db2e1e1b7285b1391876caf4be93';\r\nexport { API_KEY }","import axios from \"axios\";\r\nimport { API_KEY } from \"./API_KEY\";\r\n\r\nconst BASE_URL = \"https://api.themoviedb.org\";\r\n\r\nconst getTrending = () => {\r\n  const url = `${BASE_URL}/3/trending/all/day?api_key=${API_KEY}`;\r\n  return axios.get(url);\r\n};\r\n\r\nconst getSearchMovies = (query) => {\r\n  const url = `${BASE_URL}/3/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`;\r\n  return axios.get(url);\r\n};\r\n\r\nconst getMovieDetails = (id) => {\r\n  const url = `${BASE_URL}/3/movie/${id}?api_key=${API_KEY}&language=en-US`;\r\n  return axios.get(url);\r\n};\r\n\r\nconst getMovieCredits = (id) => {\r\n  const url = `${BASE_URL}/3/movie/${id}/credits?api_key=${API_KEY}&language=en-US`;\r\n  return axios.get(url);\r\n};\r\n\r\nconst getMovieReviews = (id) => {\r\n  const url = `${BASE_URL}/3/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\r\n  return axios.get(url);\r\n};\r\n\r\nexport {\r\n  getTrending,\r\n  getSearchMovies,\r\n  getMovieDetails,\r\n  getMovieCredits,\r\n  getMovieReviews,\r\n};\r\n","import { NavLink } from 'react-router-dom';\r\n\r\nimport './Navigation.scss'\r\n\r\nconst Navigation = () => (\r\n  <nav>\r\n    <NavLink\r\n      exact\r\n      to=\"/\"\r\n      className='link'\r\n      activeClassName='activeLink'\r\n    >\r\n      Home\r\n    </NavLink>\r\n\r\n    <NavLink\r\n      to=\"/movies\"\r\n      className='link'\r\n      activeClassName='activeLink'\r\n    >\r\n      Movies\r\n    </NavLink>\r\n  </nav>\r\n);\r\n\r\nexport default Navigation;","import Navigation from '../Navigation';\r\n\r\nimport './Appbar.scss'\r\n\r\nconst Appbar = () => {\r\n  return (\r\n    <header>\r\n      <Navigation />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Appbar;","import { useState, useEffect } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nimport { getTrending } from '../../services/API';\r\n\r\nimport './HomePage.scss'\r\n\r\nconst HomePage = () => {\r\n  const location = useLocation();\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getTrending().then((response) => {\r\n      const fetchedMovies = response.data.results.map((movie) => {\r\n        return {\r\n          movieId: movie.id,\r\n          movieName: movie.title ?? movie.name,\r\n        };\r\n      });\r\n\r\n      setMovies((prevState) => [...prevState, ...fetchedMovies]);\r\n    })\r\n  },[])\r\n\r\n  return <div>\r\n    <h1>Trending today</h1>\r\n    <ul>\r\n      {movies.map(({movieId, movieName}) => (\r\n        <li key={movieId}>\r\n          <Link\r\n            to={{\r\n                pathname: `/movies/${movieId}`,\r\n                state: {from: location},\r\n            }}>\r\n            {movieName}\r\n          </Link>\r\n        </li>\r\n    ))}\r\n    </ul>\r\n  </div>\r\n}\r\n\r\nexport default HomePage","import { useState } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './MoviesPage.scss'\r\n\r\nconst MoviesPage = ({ onSearch }) => {\r\n  const [search, setSearch] = useState('');\r\n\r\n    const handleChange = event => {\r\n        setSearch(event.currentTarget.value)\r\n    };\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        // Проп который передается форме для вызова при сабмите\r\n        onSearch(search);\r\n        reset();\r\n    };\r\n\r\n    const reset = () => {\r\n        setSearch('')\r\n    }\r\n\r\n    return <form onSubmit = {handleSubmit}>\r\n      <input type=\"text\" value={search} onChange={handleChange}/>\r\n      <button type=\"submit\">Search</button>\r\n  </form>;\r\n}\r\n\r\nMoviesPage.propTypes = {\r\n  onSearch: PropTypes.func,\r\n};\r\n\r\nexport default MoviesPage;","import { useState, useEffect } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nimport MoviesPage from \"../components/MoviesPage\";\r\nimport {getSearchMovies} from '../services/API'\r\n\r\nconst MoviesPageView = () => {\r\n    const location = useLocation();\r\n    const [movies, setMovies] = useState([]);\r\n    const [search, setSearch] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if (search === \"\") {\r\n            return;\r\n        }\r\n        getSearchMovies(search)\r\n            .then((response) => {\r\n            const fetchedMovies = response.data.results.map((movie) => {\r\n                return {\r\n                    movieId: movie.id,\r\n                    movieName: movie.title ?? movie.name,\r\n                };\r\n            });\r\n\r\n            setMovies((prevState) => [...prevState, ...fetchedMovies]);\r\n        })\r\n    }, [search]);\r\n\r\n    const onSearchHandle = (query) => {\r\n        setSearch(query);\r\n        setMovies([]);\r\n    };\r\n\r\n    return (<>\r\n        <MoviesPage onSearch={onSearchHandle} />\r\n        {movies && (\r\n            movies.map(({movieId, movieName}) => (\r\n                <li key={movieId}>\r\n                    <Link\r\n                        to={{\r\n                            pathname: `/movies/${movieId}`,\r\n                            state: {from: location},\r\n                        }}>\r\n                        {movieName}\r\n                    </Link>\r\n            </li>\r\n            ))\r\n        )}\r\n    </>)\r\n}\r\n\r\nexport default MoviesPageView","import { useState, useEffect, lazy, Suspense } from 'react';\r\nimport { NavLink, Switch, Route, useParams, useRouteMatch, useHistory, useLocation } from 'react-router-dom';\r\n\r\nimport { getMovieDetails } from '../services/API';\r\n\r\nimport './MovieDetailsPage.scss'\r\n\r\nconst Cast = lazy(() => import('./Cast.jsx' /* webpackChunkName: \"Cast\" */));\r\nconst Reviews = lazy(() => import('./Reviews.jsx' /* webpackChunkName: \"Reviews\" */));\r\n\r\nconst MovieDetailsPage = () =>{\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const { movieId } = useParams();\r\n    const { url, path } = useRouteMatch();\r\n    const [movie, setMovies] = useState();\r\n\r\n    useEffect(() => {\r\n            getMovieDetails(movieId).then(response => {\r\n                const myMovie = {\r\n                    img: response.data.poster_path,\r\n                    name: response.data.title ?? response.data.name,\r\n                    score: response.data.vote_average,\r\n                    overview: response.data.overview,\r\n                    genres: response.data.genres,\r\n                }\r\n                return setMovies(myMovie)\r\n            })\r\n    },[movieId]);\r\n\r\n    const onGoBack = () => {\r\n        history.push(location?.state?.from);\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            {movie && (\r\n                <>\r\n                    <button type=\"button\" className='go-back-button' onClick={onGoBack}>&#8678; Go Back</button>\r\n                    <div className='movie-container'>\r\n                        <div className='movie-image-container'>\r\n                            <img src={'https://image.tmdb.org/t/p/w400'+movie.img} alt={movie.name} />\r\n                        </div>\r\n                        <div>\r\n                            <h2 className='movie-name'>{movie.name}</h2>\r\n                            <p>User Score: {movie.score}</p>\r\n                            <h3>Overview:</h3>\r\n                            <p>{movie.overview}</p>\r\n                            <h3>Genres:</h3>\r\n                            <p>{movie.genres.map(genre => genre.name).join(' ')}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='information-container'>\r\n                    <h3 className=\"information-title\">Additional information</h3>\r\n            \r\n                    <nav>\r\n                        <NavLink\r\n                            to={`${url}/cast`}\r\n                            className='information-link'\r\n                        >\r\n                            Cast\r\n                        </NavLink>\r\n\r\n                        <NavLink\r\n                            to={`${url}/reviews`}\r\n                            className='information-link'\r\n                        >\r\n                            Reviews\r\n                        </NavLink>\r\n                    </nav>\r\n                    </div>\r\n                    <Suspense fallback={<h3>Loading</h3>}>\r\n                        <Switch>\r\n                            <Route path={`${path}/cast`} exact>\r\n                                <Cast />\r\n                            </Route>\r\n\r\n                            <Route path={`${path}/reviews`} exact>\r\n                                <Reviews />\r\n                            </Route>\r\n                        </Switch>\r\n                    </Suspense>\r\n                </>\r\n            )}\r\n        </>\r\n    )\r\n};\r\n\r\nexport default MovieDetailsPage;","const NotFoundView = () => {\r\n    return <div>\r\n        <h2>Not found page. Sorry.</h2>\r\n    </div>\r\n}\r\nexport default NotFoundView;","import { Switch, Route } from \"react-router-dom\";\n\nimport Appbar from \"./components/AppBar\";\nimport HomePage from \"./components/HomePage\";\nimport MoviesPageView from \"./views/MoviesView\";\nimport MovieDetailsPage from \"./views/MovieDetailsPage\";\nimport NotFoundPage from \"./views/NotFoundView\";\n\nimport \"./common.scss\";\n\nfunction App() {\n  return (\n    <>\n      <Appbar />\n      <Switch>\n        <Route path=\"/\" exact>\n          <HomePage />\n        </Route>\n\n        <Route path=\"/movies\" exact>\n          <MoviesPageView />\n        </Route>\n\n        <Route path=\"/movies/:movieId\">\n          <MovieDetailsPage />\n        </Route>\n\n        <Route>\n          <NotFoundPage />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n// import './index.css';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// // If you want to start measuring performance in your app, pass a function\n// // to log results (for example: reportWebVitals(console.log))\n// // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}
(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[2],{11:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return b}));var c=n(13),a=n.n(c),i="1ca3db2e1e1b7285b1391876caf4be93",r="https://api.themoviedb.org",o=function(){var e="".concat(r,"/3/trending/all/day?api_key=").concat(i);return a.a.get(e)},s=function(e){var t="".concat(r,"/3/search/movie?api_key=").concat(i,"&language=en-US&query=").concat(e,"&page=1&include_adult=false");return a.a.get(t)},j=function(e){var t="".concat(r,"/3/movie/").concat(e,"?api_key=").concat(i,"&language=en-US");return a.a.get(t)},u=function(e){var t="".concat(r,"/3/movie/").concat(e,"/credits?api_key=").concat(i,"&language=en-US");return a.a.get(t)},b=function(e){var t="".concat(r,"/3/movie/").concat(e,"/reviews?api_key=").concat(i,"&language=en-US&page=1");return a.a.get(t)}},36:function(e,t,n){},43:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(30),r=n.n(i),o=n(2),s=n(5),j=(n(36),n(0)),u=function(){return Object(j.jsxs)("nav",{children:[Object(j.jsx)(s.c,{exact:!0,to:"/",className:"link",activeClassName:"activeLink",children:"Home"}),Object(j.jsx)(s.c,{to:"/movies",className:"link",activeClassName:"activeLink",children:"Movies"})]})},b=(n(43),function(){return Object(j.jsx)("header",{children:Object(j.jsx)(u,{})})}),l=n(12),d=n(9),O=n(11),h=(n(62),function(){var e=Object(o.g)(),t=Object(c.useState)([]),n=Object(d.a)(t,2),a=n[0],i=n[1];return Object(c.useEffect)((function(){Object(O.e)().then((function(e){var t=e.data.results.map((function(e){var t;return{movieId:e.id,movieName:null!==(t=e.title)&&void 0!==t?t:e.name}}));i((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))}))}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Trending today"}),Object(j.jsx)("ul",{children:a.map((function(t){var n=t.movieId,c=t.movieName;return Object(j.jsx)("li",{children:Object(j.jsx)(s.b,{to:{pathname:"/movies/".concat(n),state:{from:e}},children:c})},n)}))})]})}),v=(n(63),function(e){var t=e.onSearch,n=Object(c.useState)(""),a=Object(d.a)(n,2),i=a[0],r=a[1],o=function(){r("")};return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(i),o()},children:[Object(j.jsx)("input",{type:"text",value:i,onChange:function(e){r(e.currentTarget.value)}}),Object(j.jsx)("button",{type:"submit",children:"Search"})]})}),m=function(){var e=Object(o.g)(),t=Object(c.useState)([]),n=Object(d.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),u=Object(d.a)(r,2),b=u[0],h=u[1];Object(c.useEffect)((function(){""!==b&&Object(O.d)(b).then((function(e){var t=e.data.results.map((function(e){var t;return{movieId:e.id,movieName:null!==(t=e.title)&&void 0!==t?t:e.name}}));i((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))}))}))}),[b]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(v,{onSearch:function(e){h(e),i([])}}),a&&a.map((function(t){var n=t.movieId,c=t.movieName;return Object(j.jsx)("li",{children:Object(j.jsx)(s.b,{to:{pathname:"/movies/".concat(n),state:{from:e}},children:c})},n)}))]})},f=(n(64),Object(c.lazy)((function(){return n.e(0).then(n.bind(null,67))}))),x=Object(c.lazy)((function(){return n.e(1).then(n.bind(null,68))})),g=function(){var e=Object(o.f)(),t=Object(o.g)(),n=Object(o.h)().movieId,a=Object(o.i)(),i=a.url,r=a.path,u=Object(c.useState)(),b=Object(d.a)(u,2),l=b[0],h=b[1];Object(c.useEffect)((function(){Object(O.b)(n).then((function(e){var t,n={img:e.data.poster_path,name:null!==(t=e.data.title)&&void 0!==t?t:e.data.name,score:e.data.vote_average,overview:e.data.overview,genres:e.data.genres};return h(n)}))}),[n]);return Object(j.jsx)(j.Fragment,{children:l&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{type:"button",className:"go-back-button",onClick:function(){var n;e.push(null===t||void 0===t||null===(n=t.state)||void 0===n?void 0:n.from)},children:"\u21e6 Go Back"}),Object(j.jsxs)("div",{className:"movie-container",children:[Object(j.jsx)("div",{className:"movie-image-container",children:Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w400"+l.img,alt:l.name})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"movie-name",children:l.name}),Object(j.jsxs)("p",{children:["User Score: ",l.score]}),Object(j.jsx)("h3",{children:"Overview:"}),Object(j.jsx)("p",{children:l.overview}),Object(j.jsx)("h3",{children:"Genres:"}),Object(j.jsx)("p",{children:l.genres.map((function(e){return e.name})).join(" ")})]})]}),Object(j.jsxs)("div",{className:"information-container",children:[Object(j.jsx)("h3",{className:"information-title",children:"Additional information"}),Object(j.jsxs)("nav",{children:[Object(j.jsx)(s.c,{to:"".concat(i,"/cast"),className:"information-link",children:"Cast"}),Object(j.jsx)(s.c,{to:"".concat(i,"/reviews"),className:"information-link",children:"Reviews"})]})]}),Object(j.jsx)(c.Suspense,{fallback:Object(j.jsx)("h3",{children:"Loading"}),children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"".concat(r,"/cast"),exact:!0,children:Object(j.jsx)(f,{})}),Object(j.jsx)(o.a,{path:"".concat(r,"/reviews"),exact:!0,children:Object(j.jsx)(x,{})})]})})]})})},p=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Not found page. Sorry."})})};n(65);var k=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/",exact:!0,children:Object(j.jsx)(h,{})}),Object(j.jsx)(o.a,{path:"/movies",exact:!0,children:Object(j.jsx)(m,{})}),Object(j.jsx)(o.a,{path:"/movies/:movieId",children:Object(j.jsx)(g,{})}),Object(j.jsx)(o.a,{children:Object(j.jsx)(p,{})})]})]})};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(s.a,{children:Object(j.jsx)(k,{})})}),document.getElementById("root"))}},[[66,3,4]]]);
//# sourceMappingURL=main.a5b3c50a.chunk.js.map